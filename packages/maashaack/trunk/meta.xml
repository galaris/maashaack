<?xml version="1.0" encoding="UTF-8"?>

<project name="maashaack" default="main" basedir=".">
    
    <target name="clean">
        <delete dir="${basedir}/${release.dir}" />
    </target>
    
    <target name="before">
        <mkdir dir="${basedir}/${release.dir}" />
    </target>
    
    <target name="main" depends="clean,before,build-swc,after"/>
    
    <target name="build-swc">
        <!-- 
            generate a SWC component
            this SWC is compatible Flash CS3/CS4 and Flex 3/4
         -->
        <compc
            output="${basedir}/${release.dir}/${project.swc}"
            target-player="${local.flashplayerversion}"
        >
            <load-config filename="${FLEX_HOME}/frameworks/flex-config.xml"/>
            <load-config filename="${basedir}/build/config.xml"/>
            
            <namespace uri="${project.namespace}" manifest="${basedir}/${project.manifest}" />
            <include-namespaces uri="${project.namespace}" />
            
            <strict>true</strict>
            <optimize>true</optimize>
            <warnings>true</warnings>
            <verbose-stacktraces>false</verbose-stacktraces>
            
            <compute-digest>false</compute-digest>
            
            <source-path path-element="${basedir}/${project.src}" />
            
            <include-sources dir="${basedir}/${project.src}/maashaack" includes="**/*.as" />
            
            <library-path dir="../libs/swc/packages/" includes="**/*.swc" append="true"/>
            <library-path dir="../libs/swc/libraries/" append="true">
                  <include name="logd.swc"/>
                  <include name="eden.swc"/>
                  <include name="astuce.swc"/>
            </library-path>
            
            <metadata date="${TODAY}" title="${project.name}">
                <publisher name="${project.publisher}" />
                <creator name="${project.creator1}" />
                <creator name="${project.creator2}" />
            </metadata>
        </compc>
    </target>
    
    <target name="after">
        
    </target>
    
</project>